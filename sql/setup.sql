-- USER --

CREATE TABLE "USER"(
	"NAME" TEXT NOT NULL,
	"PASSWORD" TEXT NOT NULL,
	"ROLE" SMALLINT NOT NULL,
	PRIMARY KEY("NAME")
);

-- SUBJECT --

CREATE SEQUENCE "SUBJECT_IDENTIFIER_seq" AS INTEGER;

CREATE TABLE "SUBJECT"(
	"IDENTIFIER" INTEGER NOT NULL DEFAULT nextval('"SUBJECT_IDENTIFIER_seq"'),
	"TITLE" TEXT NOT NULL,
	"DESCRIPTION" TEXT NOT NULL,
	PRIMARY KEY("IDENTIFIER")
);

ALTER SEQUENCE "SUBJECT_IDENTIFIER_seq" OWNED BY "SUBJECT"."IDENTIFIER";

-- COURSE --

CREATE SEQUENCE "COURSE_IDENTIFIER_seq" AS INTEGER;

CREATE TABLE "COURSE"(
	-- "IDENTIFIER" SERIAL NOT NULL,
	"IDENTIFIER" INTEGER NOT NULL DEFAULT nextval('"COURSE_IDENTIFIER_seq"'::regclass),
	"SUBJECT" INTEGER NOT NULL,
	"TITLE" TEXT NOT NULL,
	"DESCRIPTION" TEXT NOT NULL,
	PRIMARY KEY("IDENTIFIER"),
	FOREIGN KEY("SUBJECT") REFERENCES "SUBJECT"("IDENTIFIER")
		ON DELETE CASCADE
		ON UPDATE CASCADE
);

ALTER SEQUENCE "COURSE_IDENTIFIER_seq" OWNED BY "COURSE"."IDENTIFIER";
